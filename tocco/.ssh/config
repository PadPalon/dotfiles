# You may also want to add this in your ~/.ssh/config:
#
Host *.tocco.cust.vshn.net
   User luca.neukom

# support added in OpenSSH 7.9
IgnoreUnknown CASignatureAlgorithms

Host juventus.tocco.ch juventustest.tocco.ch
    User tocco

Host sfb.tocco.ch
    User tocco
    Port 4446

Host sfbtest.tocco.ch
    User tocco
    Port 4456

Host sfb4test.tocco.ch
    User tocco
    Port 4442

Host sfbv.tocco.ch
    User tocco
    Port 4452

Host sfbvtest.tocco.ch
    User tocco
    Port 4454

Host zb.tocco.ch zbtest.tocco.ch
    User tocco
    Port 2222

Host backup02.tocco.ch backup2.tocco.ch git.tocco.ch
    Port 32711

Host monitor01.tocco.ch
    HostKeyAlgorithms +ssh-rsa

Host *.tocco.ch *.tocco.cust.vshn.net
    Ciphers -*-cbc
    HostKeyAlgorithms -ssh-rsa,ecdsa-*
    MACs -*-sha1,*-sha1-*
    CASignatureAlgorithms -ssh-rsa-cert-*

Host *.tocco.ch
    StrictHostKeyChecking no
    User tocco
    UserKnownHostsFile ~/.ssh/known_hosts_tocco
    CheckHostIP no

# uncomment in case git.tocco.ch is down
#
# Match host "*.tocco.ch,!git.tocco.ch,!backup02.tocco.ch,!backup2.tocco.ch" exec "getent ahosts backup02.tocco.ch |grep -qv '^10\.'"
#     ProxyJump tocco-proxy@backup02.tocco.ch

# Only use a jump host if git.tocco.ch isn't in the local network
# (=not connected to the office network).
#
# getent is installed by default on Linux, dig, by default, on Mac
Match host "*.tocco.ch,!git.tocco.ch,!backup02.tocco.ch,!backup2.tocco.ch" exec "{ getent ahosts git.tocco.ch || dig +short git.tocco.ch; } 2>/dev/null | grep -qv '^10\.'"
    ProxyJump tocco-proxy@git.tocco.ch

Host *.tocco.cust.vshn.net
    StrictHostKeyChecking no
    UserKnownHostsFile ~/.ssh/known_hosts_tocco
    CheckHostIP no

Host *
    # new in OpenSSH 7.2
    IgnoreUnknown AddKeysToAgent
    AddKeysToAgent yes

    # allow skipping .tocco.ch
    CanonicalDomains tocco.ch
    CanonicalizeHostname yes
    CanonicalizeFallbackLocal no
    CanonicalizeMaxDots 0
